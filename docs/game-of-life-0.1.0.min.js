/* game-of-life v0.1.1 | https://github.com/hui-w/game-of-life */Element.prototype.createChild=function(a,c,d){var b=document.createElement(a);this.appendChild(b);if(c){for(key in c){b.setAttribute(key,c[key])}}if(d){b.innerHTML=d}return b};String.prototype.format=function(){var a=arguments;return this.replace(/\{(\d+)\}/g,function(b,c){return a[c]})};Element.prototype.hasClassName=function(b){return new RegExp("(?:^|\\s+)"+b+"(?:\\s+|$)").test(this.className)};Element.prototype.addClassName=function(b){if(!this.hasClassName(b)){this.className=[this.className,b].join(" ")}};Element.prototype.removeClassName=function(c){if(this.hasClassName(c)){var d=this.className;this.className=d.replace(new RegExp("(?:^|\\s+)"+c+"(?:\\s+|$)","g")," ")}};String.prototype.trim=function(){return this.replace(/(^\s*)|(\s*$)/g,"")};var canvasPrototype=window.CanvasRenderingContext2D&&CanvasRenderingContext2D.prototype;canvasPrototype.antiFuzzyLine=function(b,d,a,c){if(this.lineWidth==1){b-=0.5;d-=0.5;a-=0.5;c-=0.5}this.moveTo(b,d);this.lineTo(a,c)};canvasPrototype.fillTextEx=function(e,b,g,c,f){this.save();var a=b;if(c!="left"){var d=this.measureText(e).width;if(c=="center"){a-=d/2}else{if(c=="right"){a-=d}}}this.textBaseline=f;this.fillText(e,a,g);this.restore()};var rand=function(a,b){return Math.floor(Math.random()*(b-a+1))+a};var padNumber=function(b,a){var c=Math.abs(b).toString();while(c.length<a){c="0"+c}if(b<0){c="-"+c}return c};var timeNow=function(b){var c=new Date().getTime();if(b){var a=c.toString();return a.substr(a.length-b)}else{return c}};var Config={Matrix:{timerDelay:500},Planet:{gridSize:10},Monitor:{timerDelay:200,gridSize:200,keyboardChangeUnit:10,keyboardTimerDelay:50,fontSize:9,zoomDelta:0.2,zoomMax:2,zoomMin:0.5},Misc:{wrapperPadding:0}};(function(){var d=null;var b=null;var c=null;var a=null;var e=null;addEventListener("load",function(){c=new Matrix();a=new Monitor();e=new Toolbar(c);var h=Config.Misc.wrapperPadding;var g=document.body;var i=document.createElement("div");i.style.padding=h+"px";g.appendChild(i);a.renderInto(i);e.renderInto(i);c.onStatusChanged=function(j){e.setStatus(j)};c.onTimerTick=function(j){a.setMatrixTimerCount(j)};e.onCommand=function(j){switch(j){case"add":c.add();break;case"play":c.play();break;case"pause":c.pause();break;case"next":c.next();break;case"stop":c.stop();break;case"zoomIn":a.zoomIn();break;case"zoomOut":a.zoomOut();break;default:break}};a.onRedraw=function(){c.render(a)};c.init();f();setInterval(f,200)});function f(){var k=document.documentElement.clientWidth;var g=document.documentElement.clientHeight;var j=Config.Misc.wrapperPadding;if(k!=d||g!=b){d=k;b=g;var i=d-j*2;var h=b-j*2;a.resize(i,h)}}})();function Matrix(){this.timerCount=null;this.planet=null;this.minions=null;this.previewReady=null;this.status=null;this.onStatusChanged=null;this.onTimerTick=null}Matrix.prototype={init:function(){this.planet=new Planet();this.initMinions();this.setStatus("empty")},initMinions:function(){this.previewReady=false;this.minions={};this.timerCount=0},initRandomMinions:function(){this.initMinions();var f=200;var e=-9;var b=9;for(var d=0;d<=f;d++){var g=0;var a=rand(e,b);var h=rand(e,b);while(this.minions[this.getKey(a,h)]&&g<10){g++;a=rand(e,b);h=rand(e,b)}var c=this.getKey(a,h);this.minions[c]=new Minion(a,h)}this.setTimerCount(0)},setTimerCount:function(a){this.timerCount=a;if(typeof this.onTimerTick==="function"){this.onTimerTick(this.timerCount)}},setStatus:function(a){this.status=a;if(typeof this.onStatusChanged==="function"){this.onStatusChanged(a)}},add:function(){this.setStatus("ready");this.initRandomMinions()},play:function(){this.setStatus("playing");var a=function(){if(this.status!=="playing"){return}this.tick();setTimeout(a,Config.Matrix.timerDelay)}.bind(this);a()},pause:function(){this.setStatus("paused")},next:function(){this.setStatus("paused");this.tick()},stop:function(){this.setStatus("empty");this.initMinions()},getKey:function(a,b){return a+"_"+b},tick:function(){if(this.previewReady){this.commitPreview()}else{this.getPreview()}this.setTimerCount(this.timerCount+1);this.previewReady=!this.previewReady},getPreview:function(){var a={};Object.keys(this.minions).forEach(function(g){var h=this.minions[g];var c=h.position.x;var k=h.position.y;for(var f=c-1;f<=c+1;f++){for(var e=k-1;e<=k+1;e++){if(f===c&&e===k){continue}var d=this.getKey(f,e);if(!this.minions[d]&&!a[d]){a[d]={x:f,y:e}}}}}.bind(this));var b={};Object.keys(this.minions).forEach(function(d){var e=this.minions[d];var c=this.getNeighborCount(e.position.x,e.position.y);b[d]=new Minion(e.position.x,e.position.y,c===2||c===3?0:-1)}.bind(this));Object.keys(a).forEach(function(e){var c=a[e].x;var f=a[e].y;var d=this.getNeighborCount(c,f);if(d===3){b[e]=new Minion(c,f,1)}}.bind(this));this.minions=b},commitPreview:function(){var a={};Object.keys(this.minions).forEach(function(b){var c=this.minions[b];if(c.status===0||c.status===1){a[b]=new Minion(c.position.x,c.position.y)}}.bind(this));this.minions=a},render:function(a){this.planet.render(a);Object.keys(this.minions).forEach(function(b){var c=this.minions[b];c.render(a)}.bind(this))},getNeighborCount:function(a,c){var b=0;[-1,0,1].forEach(function(d){[-1,0,1].forEach(function(f){var g=a+d;var e=c+f;if(!(d===0&&f===0)&&this.minions[this.getKey(g,e)]){b++}}.bind(this))}.bind(this));return b}};function Minion(a,c,b){PlanetItem(Minion);this.setSize(1,1);this.setPosition(a,c);this.status=b===undefined?0:b}Minion.prototype={render:function(a){if(!this.isInMonitor(a)){return}var b=this.getRectOnMonitor(a);var c=a.context;c.save();c.beginPath();if(this.status===-1){c.fillStyle="RGBA(255, 0, 0 , 0.5)"}else{if(this.status===1){c.fillStyle="RGBA(0, 255, 0 , 0.5)"}else{c.fillStyle="RGBA(0, 0, 255 , 0.5)"}}c.fillRect(b.x+1,b.y+1,b.width-2,b.height-2);c.restore()}};function Monitor(b,a){this.width=b;this.height=a;this.frame=null;this.offsetX=0;this.offsetY=0;this.canvas=null;this.context=null;this.selectedPos=null;this.moveBeginPos=null;this.arrowKeyStatus=0;this.keyboardTimer=null;this.onRedraw=null;this.zoom=1;this.matrixTimerCount=0}Monitor.prototype={zoomIn:function(){if(this.zoom*(1+Config.Monitor.zoomDelta)>=Config.Monitor.zoomMax){this.zoom=Config.Monitor.zoomMax}else{this.zoom*=(1+Config.Monitor.zoomDelta)}},zoomOut:function(){if(this.zoom*(1-Config.Monitor.zoomDelta)<=Config.Monitor.zoomMin){this.zoom=Config.Monitor.zoomMin}else{this.zoom*=(1-Config.Monitor.zoomDelta)}},handleMouse:function(b,a){switch(b.type){case"mousedown":a.touchstartAndMousedown(b);break;case"mousemove":a.touchmoveAndMousemove(b);break;case"mouseup":a.touchcancelAndMouseup(b);break;case"mouseout":a.moveBeginPos=null;a.frame.removeClassName("move-cursor");break;case"mousewheel":break}},handleTouch:function(b,a){b.preventDefault();switch(b.type){case"touchstart":if(b.touches.length==1){a.touchstartAndMousedown(b.targetTouches[0])}else{if(b.touches.length==2){}}break;case"touchend":if(b.changedTouches.length==1){a.touchcancelAndMouseup(b.changedTouches[0])}break;case"touchmove":if(b.changedTouches.length==1){a.touchmoveAndMousemove(b.changedTouches[0])}else{if(b.touches.length==2){}}break}},touchstartAndMousedown:function(a){this.moveBeginPos={x:a.pageX,y:a.pageY};this.selectedPos=this.getEventPosition(a)},touchcancelAndMouseup:function(a){this.moveBeginPos=null;if(this.frame.hasClassName("move-cursor")){this.frame.removeClassName("move-cursor")}},touchmoveAndMousemove:function(a){if(this.moveBeginPos==null){return}if(!this.frame.hasClassName("move-cursor")){this.frame.addClassName("move-cursor")}this.offsetX-=a.pageX-this.moveBeginPos.x;this.offsetY-=a.pageY-this.moveBeginPos.y;this.moveBeginPos={x:a.pageX,y:a.pageY};this.redraw()},handleKey:function(d){var a=this;switch(d.type){case"keydown":var c=event.keyCode;switch(c){case 37:this.arrowKeyStatus|=1;break;case 38:this.arrowKeyStatus|=1<<1;break;case 39:this.arrowKeyStatus|=1<<2;break;case 40:this.arrowKeyStatus|=1<<3;break}if(this.arrowKeyStatus>0&&this.keyboardTimer==null){b()}function b(){var e=Config.Monitor.keyboardChangeUnit;if((a.arrowKeyStatus&1)>0){a.offsetX+=e}if((a.arrowKeyStatus&(1<<1))>0){a.offsetY+=e}if((a.arrowKeyStatus&(1<<2))>0){a.offsetX-=e}if((a.arrowKeyStatus&(1<<3))>0){a.offsetY-=e}if(a.arrowKeyStatus>0){a.redraw();a.keyboardTimer=setTimeout(b,Config.Monitor.keyboardTimerDelay)}else{a.keyboardTimer=null}}break;case"keyup":var c=event.keyCode;switch(c){case 37:a.arrowKeyStatus&=~1;break;case 38:a.arrowKeyStatus&=~(1<<1);break;case 39:a.arrowKeyStatus&=~(1<<2);break;case 40:a.arrowKeyStatus&=~(1<<3);break}if(a.arrowKeyStatus==0){if(a.keyboardTimer!=null){clearTimeout(a.keyboardTimer);a.keyboardTimer=null}}break}},getEventPosition:function(a){return{x:a.pageX-this.canvas.offsetLeft,y:a.pageY-this.canvas.offsetTop}},renderInto:function(d){var a=this;var c="background-color: #FFF; width: {0}px; height: {1}px;".format(this.width,this.height);this.frame=d.createChild("div",{id:"monitor-frame",style:c});this.handleMouseEvent=function(f){a.handleMouse(f,a)};this.frame.addEventListener("mousedown",this.handleMouseEvent,false);this.frame.addEventListener("mousemove",this.handleMouseEvent,false);this.frame.addEventListener("mouseup",this.handleMouseEvent,false);this.frame.addEventListener("mouseout",this.handleMouseEvent,false);this.frame.addEventListener("mousewheel",this.handleMouse,false);this.handleTouchEvent=function(f){a.handleTouch(f,a)};this.frame.addEventListener("touchstart",this.handleTouchEvent,false);this.frame.addEventListener("touchend",this.handleTouchEvent,false);this.frame.addEventListener("touchmove",this.handleTouchEvent,false);this.handleKeyEvent=function(f){a.handleKey(f,a)};document.addEventListener("keydown",this.handleKeyEvent,false);document.addEventListener("keyup",this.handleKeyEvent,false);this.canvas=this.frame.createChild("canvas",{id:"monitor-canvas",width:this.width,height:this.height});if(typeof G_vmlCanvasManager!="undefined"){this.canvas=G_vmlCanvasManager.initElement(this.canvas)}this.context=this.canvas.getContext("2d");b();function b(){if(a.moveBeginPos==null&&a.arrowKeyStatus==0){a.redraw()}setTimeout(b,Config.Monitor.timerDelay)}},resize:function(b,a){this.width=b;this.height=a;if(this.frame!=null){this.frame.style.width=this.width+"px";this.frame.style.height=this.height+"px"}if(this.canvas!=null){this.canvas.width=this.width;this.canvas.height=this.height}},redraw:function(){if(this.width===undefined||this.height===undefined){return}this.canvas.width=this.canvas.width;this.canvas.height=this.canvas.height;this.fillBackground();this.drawScale();this.drawLabel();if(typeof this.onRedraw=="function"){this.onRedraw()}},fillBackground:function(){var a=this.context;a.save();a.fillStyle="RGBA(255, 255, 255, 1)";a.fillRect(0,0,this.width,this.height);a.restore()},drawScale:function(){var c=this.context;c.save();c.beginPath();c.font="{0}px verdana".format(Config.Monitor.fontSize);c.textBaseline="top";c.fillStyle="#000000";var a=Config.Monitor.gridSize;var k=(Math.round(this.height/2)-this.offsetY)%a;for(var h=k;h<=this.height;h+=a){var d=0;var b=this.width;c.antiFuzzyLine(d,h,b,h);var f=this.monitorToPlanet(0,h);c.fillText(f.y,0,h)}var e=(Math.round(this.width/2)-this.offsetX)%a;for(var j=e;j<=this.width;j+=a){var i=0;var g=this.height;c.antiFuzzyLine(j,i,j,g);var f=this.monitorToPlanet(j,0);c.fillText(f.x,j,0)}c.strokeStyle="RGBA(0, 0, 0, 0.2)";c.lineWidth=1;c.stroke();c.restore()},drawLabel:function(){var a=this.context;a.save();a.font="{0}px verdana".format(Config.Monitor.fontSize);a.fillStyle="#333333";var b="Monitor: {0}, {1}, {2}, {3}".format(padNumber(this.offsetX,4),padNumber(this.offsetY,4),padNumber(this.matrixTimerCount,3),timeNow(5));a.fillTextEx(b,this.width,this.height,"right","bottom");a.restore()},monitorToPlanet:function(b,a){return{x:Math.round((b-Math.round(this.width/2)+this.offsetX)/this.zoom),y:Math.round((a-Math.round(this.height/2)+this.offsetY)/this.zoom)}},planetToMonitor:function(b,a){return{x:Math.round(b*this.zoom)+Math.round(this.width/2)-this.offsetX,y:Math.round(a*this.zoom)+Math.round(this.height/2)-this.offsetY}},setMatrixTimerCount:function(a){this.matrixTimerCount=a}};function Planet(){this.openArea=[];this.closeArea={};this.cache={}}Planet.prototype={getPath:function(b,g){this.openArea=[];this.closeArea={};this.cache={};this.prepareCache();var d=this.getNode(b.x,b.y);var a=this.getNode(g.x,g.y);this.processNodesNearby(d,a);if(this.openArea.length==0){return null}while(!this.closeArea[a.id]){var c=this.getOpenNodeWithMinF();if(!c){break}this.processNodesNearby(c,a)}if(this.closeArea[a.id]){var f=[];f.push(a);var e=a.prev;while(e!==d){f.push(e);e=e.prev}f.push(d);return f}},getNodeId:function(a,b){return"node_"+a+"_"+b},getNode:function(a,b){return this.cache[this.getNodeId(a,b)]},prepareCache:function(){for(var a=0;a<1000;a++){for(var c=0;c<1000;c++){var b={x:a,y:c,id:this.getNodeId(a,c),isBlock:false,prev:null,fObj:null};this.cache[b.id]=b}}},processNodesNearby:function(b,g){var d;var c;for(var j=-1;j<=1;j++){d=b.x+j;for(var i=-1,f,k,e;i<=1;i++){c=b.y+i;if(j===0&&i===0){continue}f=this.getNode(d,c);if(f){var a=false;if(Math.abs(j)==Math.abs(i)){var h=this.getNode(b.x+j,b.y);var l=this.getNode(b.x,b.y+i);a=!h.isBlock&&!l.isBlock&&!this.closeArea[f.id]}else{a=!this.closeArea[f.id]}if(a){k=this.getF(f,b,g);e=this.inOpenArea(f);if(e&&e.fObj.G<=k.G){continue}f.fObj=k;k.prev=b;this.openArea.push(f)}}}}},getF:function(f,c,b){var a=(b.x-f.x)*10;var i=(b.y-f.y)*10;var d=Math.round(Math.sqrt(Math.pow(a,2)+Math.pow(i,2)));var e=(c.x==f.x||c.y==f.y)?10:14;if(c.fObj){e=c.fObj.G+e}return{F:d+e,H:d,G:e}},inOpenArea:function(c){var a=this.openArea;for(var b=0;b<a.length;b++){if(a[b].id===c.id){return a[b]}}return null},getOpenNodeWithMinF:function(){if(this.openArea.length===0){return null}this.sortOpenArea();this.closeArea[this.openArea[0].id]=this.openArea[0];return this.openArea.shift()},sortOpenArea:function(){this.openArea.sort(function(b,a){return b.fObj.F-a.fObj.F})},render:function(k){var c=k.context;c.save();c.beginPath();var a=Math.round(Config.Planet.gridSize*k.zoom);var j=(Math.round(k.height/2)-k.offsetY)%a;for(var g=j;g<=k.height;g+=a){var d=0;var b=k.width;c.antiFuzzyLine(d,g,b,g)}var e=(Math.round(k.width/2)-k.offsetX)%a;for(var i=e;i<=k.width;i+=a){var h=0;var f=k.height;c.antiFuzzyLine(i,h,i,f)}c.strokeStyle="RGBA(204, 204, 204, 0.2)";c.lineWidth=1;c.stroke();c.restore()}};function PlanetItem(a){for(key in PlanetItem.prototype){a.prototype[key]=PlanetItem.prototype[key]}}PlanetItem.prototype={size:{width:0,height:0},position:{x:0,y:0},pxSize:{width:0,height:0},pxPosition:{x:0,y:0},pxOffset:{x:0,y:0},setSize:function(b,a){this.size={width:b,height:a};this.pxSize={width:Config.Planet.gridSize*b,height:Config.Planet.gridSize*a}},setPosition:function(a,b){this.position={x:a,y:b};this.pxPosition={x:Config.Planet.gridSize*a,y:Config.Planet.gridSize*b}},move:function(b,a){this.setPosition(this.position.x+b,this.position.y+a);this.pxOffset={x:-Config.Planet.gridSize*b,y:-Config.Planet.gridSize*a}},getRectOnMonitor:function(b){var a=b.planetToMonitor(this.pxPosition.x,this.pxPosition.y);return{x:a.x,y:a.y,width:this.pxSize.width*b.zoom,height:this.pxSize.height*b.zoom,right:a.x+this.pxSize.width*b.zoom,bottom:a.y+this.pxSize.height*b.zoom}},isInMonitor:function(b){var a=b.planetToMonitor(this.pxPosition.x,this.pxPosition.y);if(a.x+this.pxSize.width*b.zoom<0){return false}else{if(a.x-this.pxSize.width*b.zoom>=b.width){return false}else{if(a.y+this.pxSize.height*b.zoom<0){return false}else{if(a.y-this.pxSize.height*b.zoom>=b.height){return false}}}}return true}};if(!Array.prototype.forEach){Array.prototype.forEach=function(f){var c,b;if(this==null){throw new TypeError("this is null or not defined")}var e=Object(this);var a=e.length>>>0;if(typeof f!=="function"){throw new TypeError(f+" is not a function")}if(arguments.length>1){c=arguments[1]}b=0;while(b<a){var d;if(b in e){d=e[b];f.call(c,d,b,e)}b++}}}if(!Array.prototype.reduce){Object.defineProperty(Array.prototype,"reduce",{value:function(e){if(this===null){throw new TypeError("Array.prototype.reduce called on null or undefined")}if(typeof e!=="function"){throw new TypeError(e+" is not a function")}var d=Object(this);var a=d.length>>>0;var b=0;var c;if(arguments.length>=2){c=arguments[1]}else{while(b<a&&!(b in d)){b++}if(b>=a){throw new TypeError("Reduce of empty array with no initial value")}c=d[b++]}while(b<a){if(b in d){c=e(c,d[b],b,d)}b++}return c}})}if(typeof Object.assign!="function"){Object.defineProperty(Object,"assign",{value:function assign(d,f){if(d==null){throw new TypeError("Cannot convert undefined or null to object")}var e=Object(d);for(var c=1;c<arguments.length;c++){var b=arguments[c];if(b!=null){for(var a in b){if(Object.prototype.hasOwnProperty.call(b,a)){e[a]=b[a]}}}}return e},writable:true,configurable:true})}if(!Object.keys){Object.keys=(function(){var c=Object.prototype.hasOwnProperty,d=!({toString:null}).propertyIsEnumerable("toString"),b=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],a=b.length;return function(g){if(typeof g!=="function"&&(typeof g!=="object"||g===null)){throw new TypeError("Object.keys called on non-object")}var e=[],h,f;for(h in g){if(c.call(g,h)){e.push(h)}}if(d){for(f=0;f<a;f++){if(c.call(g,b[f])){e.push(b[f])}}}return e}}())}function Toolbar(){this.onCommand=null;this.btnAdd=null;this.btnPlay=null;this.btnPause=null;this.btnNext=null;this.btnStop=null;this.btnZoomIn=null;this.btnZoomOut=null}Toolbar.prototype={handleButtonClick:function(a){return function(){if(typeof this.onCommand==="function"){this.onCommand(a)}}},setStatus:function(a){this.btnAdd.style=a==="empty"||a==="ready"?"display: inline;":"display: none;";this.btnPlay.style=a==="paused"||a==="ready"?"display: inline;":"display: none;";this.btnPause.style=a==="playing"?"display: inline;":"display: none;";this.btnNext.style=a==="paused"||a==="ready"?"display: inline;":"display: none;";this.btnStop.style=a==="playing"||a==="paused"?"display: inline;":"display: none;"},renderInto:function(a){this.frame=a.createChild("div",{id:"toolbar","class":"toolbar"});this.btnAdd=this.frame.createChild("div",{"class":"svg-button"},['<svg width="32" height="32" viewBox="0 0 42 42">','  <g fill="currentColor">','    <polygon points="42,20 22,20 22,0 20,0 20,20 0,20 0,22 20,22 20,42 22,42 22,22 42,22 "/>',"  </g>","</svg>"].join(""));this.btnAdd.addEventListener("click",this.handleButtonClick("add").bind(this),false);this.btnStop=this.frame.createChild("div",{"class":"svg-button"},['<svg width="32" height="32" viewBox="0 0 36 36">','  <g fill="currentColor">','    <path d="M35,0H1C0.448,0,0,0.447,0,1v34c0,0.553,0.448,1,1,1h34c0.552,0,1-0.447,1-1V1C36,0.447,35.552,0,35,0z M34,34H2V2h32V34z" />',"  </g>","</svg>"].join(""));this.btnStop.addEventListener("click",this.handleButtonClick("stop").bind(this),false);this.btnPlay=this.frame.createChild("div",{"class":"svg-button"},['<svg width="32" height="32" viewBox="0 0 41.999 41.999">','  <g fill="currentColor">','    <path d="M36.068,20.176l-29-20C6.761-0.035,6.363-0.057,6.035,0.114C5.706,0.287,5.5,0.627,5.5,0.999v40',"      c0,0.372,0.206,0.713,0.535,0.886c0.146,0.076,0.306,0.114,0.465,0.114c0.199,0,0.397-0.06,0.568-0.177l29-20",'      c0.271-0.187,0.432-0.494,0.432-0.823S36.338,20.363,36.068,20.176z M7.5,39.095V2.904l26.239,18.096L7.5,39.095z"/>',"  </g>","</svg>"].join(""));this.btnPlay.addEventListener("click",this.handleButtonClick("play").bind(this),false);this.btnPause=this.frame.createChild("div",{"class":"svg-button"},['<svg width="32" height="32" viewBox="0 0 42 42">','  <g fill="currentColor">','    <path d="M14.5,0c-0.552,0-1,0.447-1,1v40c0,0.553,0.448,1,1,1s1-0.447,1-1V1C15.5,0.447,15.052,0,14.5,0z"/>','    <path d="M27.5,0c-0.552,0-1,0.447-1,1v40c0,0.553,0.448,1,1,1s1-0.447,1-1V1C28.5,0.447,28.052,0,27.5,0z"/>',"  </g>","</svg>"].join(""));this.btnPause.addEventListener("click",this.handleButtonClick("pause").bind(this),false);this.btnNext=this.frame.createChild("div",{"class":"svg-button"},['<svg width="32" height="32" viewBox="0 0 42 42">','  <g fill="currentColor">','    <path d="M35.5,0c-0.552,0-1,0.447-1,1v18.095L7.068,0.177C6.762-0.034,6.364-0.057,6.035,0.114C5.706,0.287,5.5,0.628,5.5,1v40',"      c0,0.372,0.206,0.713,0.535,0.886C6.181,41.962,6.341,42,6.5,42c0.199,0,0.397-0.06,0.568-0.177L34.5,22.905V41c0,0.553,0.448,1,1,1",'      s1-0.447,1-1V1C36.5,0.447,36.052,0,35.5,0z M7.5,39.096V2.904L33.739,21L7.5,39.096z"/>',"  </g>","</svg>"].join(""));this.btnNext.addEventListener("click",this.handleButtonClick("next").bind(this),false);this.btnZoomIn=this.frame.createChild("div",{"class":"svg-button"},['<svg width="32" height="32" viewBox="0 0 52.966 52.966">','  <g fill="currentColor">','    <path d="M28.983,20h-6v-6c0-0.552-0.448-1-1-1s-1,0.448-1,1v6h-6c-0.552,0-1,0.448-1,1s0.448,1,1,1h6v6c0,0.552,0.448,1,1,1','      s1-0.448,1-1v-6h6c0.552,0,1-0.448,1-1S29.535,20,28.983,20z"/>','    <path d="M51.704,51.273L36.845,35.82c3.79-3.801,6.138-9.041,6.138-14.82c0-11.58-9.42-21-21-21s-21,9.42-21,21s9.42,21,21,21',"      c5.083,0,9.748-1.817,13.384-4.832l14.895,15.491c0.196,0.205,0.458,0.307,0.721,0.307c0.25,0,0.499-0.093,0.693-0.279","      C52.074,52.304,52.086,51.671,51.704,51.273z M2.983,21c0-10.477,8.523-19,19-19s19,8.523,19,19s-8.523,19-19,19",'      S2.983,31.477,2.983,21z"/>',"  </g>","</svg>"].join(""));this.btnZoomIn.addEventListener("click",this.handleButtonClick("zoomIn").bind(this),false);this.btnZoomOut=this.frame.createChild("div",{"class":"svg-button"},['<svg width="32" height="32" viewBox="0 0 52.966 52.966">','  <g fill="currentColor">','    <path d="M28.983,20h-14c-0.552,0-1,0.448-1,1s0.448,1,1,1h14c0.552,0,1-0.448,1-1S29.535,20,28.983,20z"/>','    <path d="M51.704,51.273L36.845,35.82c3.79-3.801,6.138-9.041,6.138-14.82c0-11.58-9.42-21-21-21s-21,9.42-21,21s9.42,21,21,21',"      c5.083,0,9.748-1.817,13.384-4.832l14.895,15.491c0.196,0.205,0.458,0.307,0.721,0.307c0.25,0,0.499-0.093,0.693-0.279","      C52.074,52.304,52.086,51.671,51.704,51.273z M2.983,21c0-10.477,8.523-19,19-19s19,8.523,19,19s-8.523,19-19,19",'      S2.983,31.477,2.983,21z"/>',"  </g>","</svg>"].join(""));this.btnZoomOut.addEventListener("click",this.handleButtonClick("zoomOut").bind(this),false)}};